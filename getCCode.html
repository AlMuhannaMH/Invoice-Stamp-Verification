<!DOCTYPE html>    
<html lang="en">    
<head>    
    <meta charset="UTF-8">    
    <title>Extract Customer ID from PDF</title>    
    <!-- PDF.js from CDN -->    
    <script src="https://cdnjs.cloudflare.com/ajax/libs/pdf.js/3.11.174/pdf.min.js"></script>    
</head>    
<body>    
    <h2>Extract Customer Code from PDF</h2>    
    <input type="file" id="file-input" accept="application/pdf" />    
    <pre id="output"></pre>    
    
    <script>    
        // Wait for PDF.js to load    
        window.onload = function() {    
            const fileInput = document.getElementById('file-input');    
            const output = document.getElementById('output');    
    
            fileInput.addEventListener('change', async function(event) {    
                const file = event.target.files[0];    
                if (!file) {    
                    output.textContent = "No file selected.";    
                    return;    
                }    
    
                const reader = new FileReader();    
                reader.onload = async function() {    
                    const typedarray = new Uint8Array(reader.result);    
                    try {    
                        const pdf = await pdfjsLib.getDocument({ data: typedarray }).promise;    
                        let fullText = '';    
    
                        for (let pageNum = 1; pageNum <= pdf.numPages; pageNum++) {    
                            const page = await pdf.getPage(pageNum);    
                            const content = await page.getTextContent();    
                            const pageText = content.items.map(item => item.str).join(' ');    
                            fullText += pageText + '\n';    
                        }    
    
                        // Try to extract Customer Code    
                        const match = fullText.match(/Customer Code\s*(\d+)/);    
                        if (match) {    
                            output.textContent = "Customer ID: " + match[1];    
                        } else {    
                            output.textContent = "Customer ID not found.";    
                        }    
                    } catch (err) {    
                        output.textContent = "Error processing PDF: " + err.message;    
                    }    
                };    
                reader.readAsArrayBuffer(file);    
            });    
        };    
    </script>    
</body>    
</html>    
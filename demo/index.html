<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Stamp Match Checker</title>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/tesseract.js/4.1.1/tesseract.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/pdf.js/3.11.174/pdf.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/html2canvas/1.4.1/html2canvas.min.js"></script>
    <script src="https://docs.opencv.org/4.x/opencv.js"></script>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <div class="container" id="screenshot-target">
        <div class="main-content">
            <!-- Step 1: Upload -->
            <div class="step">
                <button class="btn" onclick="document.getElementById('fileInput').click()">
                    Upload File or Take Photo
                </button>
                <input type="file" id="fileInput" class="file-input" accept="image/*,.pdf" capture="environment">
            </div>

            <!-- Progress and extracted codes -->
            <div class="progress" id="progressDiv">
                <div class="progress-bar">
                    <div class="progress-fill" id="progressFill"></div>
                </div>
                <div class="progress-text" id="progressText">Processing...</div>
            </div>
            
            <div class="error" id="errorDiv"></div>
            
            <div class="extracted-codes" id="extractedCodesDiv">
                <div id="codesList"></div>
            </div>

            <!-- Step 2: Verify -->
            <div class="step">
                <button id="btnCheck" class="btn" disabled>Verify Stamp Match</button>
            </div>

            <!-- Step 3: Share -->
            <div class="step">
                <button class="btn btn-secondary" onclick="captureAndShare()" id="shareBtn" disabled>Share Results</button>
            </div>
            
            <!-- Comparison Results -->
            <div id="result">
                <div class="canvas-container">
                    <canvas id="canvasPdf"></canvas>
                </div>
                <div class="canvas-container">
                    <canvas id="canvasUp"></canvas>
                </div>
            </div>
            
            <div id="score"></div>
            <div id="status" class="status"></div>
        </div>
    </div>
    
    <script src="script.js"></script>
</body>
</html>